<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Collaborative Canvas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="toolbar">
        <div class="app-title">Live Canvas</div>
        
        <div class="toolbar-section">
            <label for="colorPicker">Color</label>
            <div class="color-selector">
                <input type="color" id="colorPicker" class="color-picker tooltip" value="#000000" data-tooltip="Custom color picker">
                <div class="color-palette">
                    <div class="color-swatch" data-color="#1f2937" style="background-color: #1f2937;" title="Dark Gray"></div>
                    <div class="color-swatch" data-color="#991b1b" style="background-color: #991b1b;" title="Deep Red"></div>
                    <div class="color-swatch" data-color="#0f766e" style="background-color: #0f766e;" title="Teal"></div>
                    <div class="color-swatch" data-color="#1e40af" style="background-color: #1e40af;" title="Blue"></div>
                    <div class="color-swatch" data-color="#166534" style="background-color: #166534;" title="Forest Green"></div>
                    <div class="color-swatch" data-color="#a16207" style="background-color: #a16207;" title="Amber"></div>
                    <div class="color-swatch" data-color="#7c2d12" style="background-color: #7c2d12;" title="Brown"></div>
                    <div class="color-swatch" data-color="#6b7280" style="background-color: #6b7280;" title="Gray"></div>
                </div>
            </div>
        </div>
        
        <div class="toolbar-section">
            <label for="brushSize">Brush Size</label>
            <div class="brush-size-container">
                <input type="range" id="brushSize" class="brush-size tooltip" min="1" max="20" value="2" data-tooltip="Adjust brush thickness">
                <div class="size-indicator" id="brushSizeValue">2</div>
            </div>
        </div>
        
        <div class="toolbar-section">
            <label>Zoom</label>
            <div class="zoom-controls">
                <button id="zoomOut" class="btn-primary zoom-btn tooltip" data-tooltip="Zoom out">
                    <span>🔍-</span>
                </button>
                <span id="zoomLevel" class="zoom-indicator">100%</span>
                <button id="zoomIn" class="btn-primary zoom-btn tooltip" data-tooltip="Zoom in">
                    <span>🔍+</span>
                </button>
                <button id="zoomReset" class="btn-primary zoom-btn tooltip" data-tooltip="Reset zoom">
                    <span>🎯</span>
                </button>
            </div>
        </div>
        
        <div class="toolbar-section">
            <button id="clearCanvas" class="btn-danger tooltip" data-tooltip="Clear the entire canvas for all users">
                <span>🗑️</span>
                Clear Canvas
            </button>
            <button id="toggleChat" class="btn-primary tooltip" data-tooltip="Toggle chat panel">
                <span>💬</span>
                Chat
            </button>
            <button id="themeToggle" class="btn-primary tooltip" data-tooltip="Toggle light/dark mode">
                <span>🌙</span>
                Dark Mode
            </button>
        </div>
        
        <div class="toolbar-section">
            <div class="status-badge disconnected" id="connectionStatus">Disconnected</div>
            <div class="status-badge user-count" id="userCount">0 Users</div>
        </div>
    </div>
    
    <div id="canvas-container">
        <canvas id="canvas"></canvas>
    </div>
    
    <div class="loading" id="loading">Connecting...</div>
    
    <!-- Floating cursor info -->
    <div id="cursorInfo" class="cursor-info">
        <span id="cursorX">0</span>, <span id="cursorY">0</span>
    </div>
    
    <!-- Chat Panel -->
    <div id="chatPanel" class="chat-panel">
        <div class="chat-header">
            <h3>💬 Live Chat</h3>
            <button id="closeChatBtn" class="close-btn">×</button>
        </div>
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input-container">
            <input type="text" id="chatInput" placeholder="Type a message..." maxlength="500">
            <button id="sendChatBtn" class="send-btn">Send</button>
        </div>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="canvas.js"></script>
</body>
</html>